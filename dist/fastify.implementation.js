"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return n}});const e=/*#__PURE__*/a(require("fastify")),t=/*#__PURE__*/a(require("@fastify/cookie")),r=/*#__PURE__*/a(require("@fastify/helmet")),o=/*#__PURE__*/a(require("@fastify/middie")),i=/*#__PURE__*/a(require("./fastify.define-routes")),s=/*#__PURE__*/a(require("./fastify.common-routes"));function a(e){return e&&e.__esModule?e:{default:e}}async function n(a){let n=(0,e.default)({logger:{transport:{target:"pino-pretty",options:{translateTime:"HH:MM:ss Z"}}}});n.register(t.default,{parseOptions:{sameSite:!0}}).register(r.default,{global:!0,contentSecurityPolicy:!1}).register(o.default),await (0,i.default)(n,a.controllersPath),(0,s.default)(n,{timezone:a.nameCookieTimezone||"timezone"});try{await n.listen({port:a.port,host:a.host}),n.log.info(`server listening on http://localhost:${a.port}`)}catch(e){n.log.error(e),process.exit(1)}}